\exercise
We prove the principle of inclusion and exclusion by induction on $n$.
For $n=1$ the proof is trivial, and for $n=2$ the formula is identical to (B.3).
If $n>2$, then by (B.3) and the generalized first distributive law, we have:
\begin{align*}
    |A_1\cup A_2\cup\dots\cup A_n| &= |(A_1\cup A_2\cup\dots\cup A_{n-1})\cup A_n| \\
    &= |A_1\cup A_2\cup\dots\cup A_{n-1}|+|A_n| \\
    &\qquad {}-|(A_1\cup A_2\cup\dots\cup A_{n-1})\cap A_n| \\
    &= |A_1\cup A_2\cup\dots\cup A_{n-1}|+|A_n| \\
    &\qquad {}-|(A_1\cap A_n)\cup\dots\cup(A_{n-1}\cap A_n)|.
\end{align*}
We now apply the induction hypothesis to the first and the last summand:
\begin{gather*}
    \begin{align*}
        |A_1\cup A_2\cup\dots\cup A_{n-1}| &= \sum_{1\le i_1<n}|A_{i_1}| \\
        &\qquad {}-\sum_{1\le i_1<i_2<n}|A_{i_1}\cap A_{i_2}| \\
        &\qquad {}+\sum_{1\le i_1<i_2<i_3<n}|A_{i_1}\cap A_{i_2}\cap A_{i_3}| \\[-2mm]
        &\hspace{4cm}\vdots \\
        &\qquad {}+(-1)^{n-2}\;|A_1\cap A_2\cap\dots\cap A_{n-1}|,
    \end{align*}\\[5mm]
    \begin{align*}
        |(A_1\cap A_n)\cup\dots\cup(A_{n-1}\cap A_n)| &= \sum_{1\le i_1<n}|A_{i_1}\cap A_n| \\
        &\qquad {}-\sum_{1\le i_1<i_2<n}|A_{i_1}\cap A_{i_2}\cap A_n| \\[-2mm]
        &\hspace{3cm}\vdots \\
        &\qquad {}+(-1)^{n-2}\;|A_1\cap A_2\cap\dots\cap A_{n-1}\cap A_n|.
    \end{align*}
\end{gather*}
We finish the proof by inserting the resulting expressions into the initial formula:
\begin{align*}
    |A_1\cup A_2\cup\dots\cup A_n| &= \sum_{1\le i_1\le n}|A_{i_1}| \\
    &\qquad {}-\sum_{1\le i_1<i_2\le n}|A_{i_1}\cap A_{i_2}| \\
    &\qquad {}+\sum_{1\le i_1<i_2<i_3\le n}|A_{i_1}\cap A_{i_2}\cap A_{i_3}| \\[-2mm]
    &\hspace{3.5cm}\vdots \\
    &\qquad {}+(-1)^{n-1}\;|A_1\cap A_2\cap\dots\cap A_n|.
\end{align*}
